<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">    
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css" rel="stylesheet">
        <link rel="stylesheet" href="index.css">
    </head>
    <body>
        <div class="bg-container">
            <nav class="navbar navbar-expand-lg navbar-light nav-cont d-flex justify-content-between align-items-center">
                <img src="https://imgtr.ee/images/2024/08/16/d3f221a59de9ed00e8038725f92c326c.png" alt="logo" class="logo" />
                <div class="links d-flex">
                    <a href="#">Packages</a>
                    <a href="#">Tours</a>
                    <a href="#">Help</a>
                    <a href="#">Membership <i class="bi bi-gem icon"></i></a>
                    <a href="#">Gift cards <i class="bi bi-gift-fill icon"></i></a>
                    <div class="ham-cont d-flex justify-content-around">
                        <i class="bi bi-list"></i>
                        <i class="bi bi-person-fill"></i>
                    </div>
                </div>
            </nav>
            <div class="p-4 bg-img-cont">
                <h1 class="main-head mb-2">Discover Your Next Adventure</h1>

                <p class="description mb-2">Unlock your path to adventure, start your journey of discovery - where every destination awaits your exploration</p>

                <form class="container-fluid card p-4 mt-4">
                    <div class="row p-2">
                            <button class="col-4 col-md-3  btn btn-primary mr-2 active-btn form-control">Packages</button>
                            <button class="col-4 col-md-3 btn btn-outline-secondary  ml-2 unactive-btn form-control">Tours</button>
                    </div>
                    <div class="row p-2">
                        <div class="col-12 col-md-5 col-lg-3 m-2 input-col">
                            <label for="city" class="form-label">Destination</label>
                            <input type="text" class="form-control" id="city" placeholder="Enter the city">
                        </div>
                        <div class="col-12 col-md-6 col-lg-4 m-2 input-col d-flex justify-content-around">
                            <div class="mb-3">
                                <label for="checkIn" class="form-label">Check-in</label>
                                <div class="d-flex">
                                    <input type="text" id="checkIn" class="form-control date-input" placeholder="mm/dd/yyyy">
                                    <i class="bi bi-calendar cal"></i>
                                </div>

                            </div>
                            <div id="nights" class="d-flex flex-column nights pt-3">
                                <i class="bi bi-moon-fill night-icon"></i> <p><span id="nightsCount">0</span> Night</p>
                            </div>
                            <div class="mb-3">
                                <label for="checkOut" class="form-label">Check-out</label>
                                <div class="d-flex">
                                    <input type="text" id="checkOut" class="form-control date-input" placeholder="mm/dd/yyyy">
                                    <i class="bi bi-calendar cal"></i>
                                </div>
                            </div>
                        </div>
                        <div class="col-8 col-md-6 col-lg-3 m-2 input-col">
                            <label for="combinedDropdown" class="form-label">Guests and Rooms</label>
                            <div class="dropdown mb-3">
                                <button class="btn btn-secondary dropdown-toggle dropdown-select-btn" type="button" id="combinedDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                    Adults, Children, Room
                                </button>
                                <ul class="dropdown-menu" aria-labelledby="combinedDropdown">
                                    <li class="dropdown-submenu">
                                        <a class="dropdown-item dropdown-toggle" href="#" data-type="adults">Adults</a>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#" data-value="1">1 Adult</a></li>
                                            <li><a class="dropdown-item" href="#" data-value="2">2 Adults</a></li>
                                            <li><a class="dropdown-item" href="#" data-value="3">3 Adults</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a class="dropdown-item dropdown-toggle" href="#" data-type="children">Children</a>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#" data-value="0">0 Children</a></li>
                                            <li><a class="dropdown-item" href="#" data-value="1">1 Child</a></li>
                                            <li><a class="dropdown-item" href="#" data-value="2">2 Children</a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown-submenu">
                                        <a class="dropdown-item dropdown-toggle" href="#" data-type="rooms">Rooms</a>
                                        <ul class="dropdown-menu">
                                            <li><a class="dropdown-item" href="#" data-value="1">1 Room</a></li>
                                            <li><a class="dropdown-item" href="#" data-value="2">2 Rooms</a></li>
                                            <li><a class="dropdown-item" href="#" data-value="3">3 Rooms</a></li>
                                        </ul>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-2 col-lg-1 m-2 search-icon-cont d-flex flex-column justify-content-center align-items-center">
                            <i class="bi bi-search"></i>
                        </div>
                    </div>
                    <div class="row p-2">
                        <div class="star-rating col-12">
                            <p>Star Rating</p>
                            <input type="radio" id="star5" name="rating" value="5">
                            <label for="star5" title="5 stars"></label>
                            <input type="radio" id="star4" name="rating" value="4">
                            <label for="star4" title="4 stars"></label>
                            <input type="radio" id="star3" name="rating" value="3">
                            <label for="star3" title="3 stars"></label>
                            <input type="radio" id="star2" name="rating" value="2">
                            <label for="star2" title="2 stars"></label>
                            <input type="radio" id="star1" name="rating" value="1">
                            <label for="star1" title="1 star"></label>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
        <script>
            const checkIn =  flatpickr("#checkIn", {
                dateFormat: "m/d/Y",
                allowInput: true,
                onOpen: function(selectedDates, dateStr, instance) {
                    instance.input.placeholder = ''; // Clear placeholder on focus
                },
                onClose: function(selectedDates, dateStr, instance) {
                    if (!dateStr) {
                    instance.input.placeholder = 'mm/dd/yyyy'; // Reset placeholder if no date is selected
                    }
                },
                onChange: updateNights,
            });
            const checkOut =  flatpickr("#checkOut", {
                dateFormat: "Y-m-d",
                allowInput: true,
                onOpen: function(selectedDates, dateStr, instance) {
                    instance.input.placeholder = ''; // Clear placeholder on focus
                },
                onClose: function(selectedDates, dateStr, instance) {
                    if (!dateStr) {
                    instance.input.placeholder = 'mm/dd/yyyy'; // Reset placeholder if no date is selected
                    }
                },
                onChange: updateNights,
            });

            function updateNights() {
                const checkInDate = checkIn.selectedDates[0];
                const checkOutDate = checkOut.selectedDates[0];

                if (checkInDate && checkOutDate && checkInDate < checkOutDate) {
                    const nights = Math.ceil((checkOutDate - checkInDate) / (1000 * 60 * 60 * 24));
                    document.getElementById('nightsCount').textContent = nights;
                } else {
                    document.getElementById('nightsCount').textContent = '0';
                }
            }

            document.addEventListener('DOMContentLoaded', () => {
            const button = document.getElementById('combinedDropdown');

            let selectedAdults = 0;
            let selectedChildren = 0;
            let selectedRooms = 0;

            document.querySelectorAll('.dropdown-item').forEach(item => {
                item.addEventListener('click', (event) => {
                    event.preventDefault();
                    const type = event.target.closest('.dropdown-submenu').querySelector('.dropdown-toggle').dataset.type;
                    const value = event.target.dataset.value;

                    if (type === 'adults') {
                        selectedAdults = value;
                    } else if (type === 'children') {
                        selectedChildren = value;
                    } else if (type === 'rooms') {
                        selectedRooms = value;
                    }

                    button.textContent = `${selectedAdults} Adult${selectedAdults > 1 ? 's' : ''}, ${selectedChildren} Child${selectedChildren !== 1 ? 'ren' : ''}, ${selectedRooms} Room${selectedRooms > 1 ? 's' : ''}`;
                });
            });
        });
        </script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    </body>
</html>